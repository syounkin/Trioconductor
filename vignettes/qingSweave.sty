\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{Sweave}{}

\RequirePackage{ifthen}
\newboolean{Sweave@gin}
\setboolean{Sweave@gin}{true}
\newboolean{Sweave@ae}
\setboolean{Sweave@ae}{true}

\DeclareOption{nogin}{\setboolean{Sweave@gin}{false}}
\DeclareOption{noae}{\setboolean{Sweave@ae}{false}}
\ProcessOptions

\RequirePackage{graphicx,fancyvrb}
\IfFileExists{upquote.sty}{\RequirePackage{upquote}}{}

\ifthenelse{\boolean{Sweave@gin}}{\setkeys{Gin}{width=1\textwidth}}{}%
\ifthenelse{\boolean{Sweave@ae}}{%
  \RequirePackage[T1]{fontenc}  
  \RequirePackage{ae}
}{}%

%\DefineVerbatimEnvironment{Sinput}{Verbatim}{fontshape=s}
%\DefineVerbatimEnvironment{Soutput}{Verbatim}{fontshape=s}
%\DefineVerbatimEnvironment{Scode}{Verbatim}{fontshape=s}

% To change the R input/output style:
%

\DefineVerbatimEnvironment{Sinput}{Verbatim}
{xleftmargin=2em, fontshape=sl, fontsize=\footnotesize, baselinestretch=1}
\DefineVerbatimEnvironment{Soutput}{Verbatim}
{xleftmargin=2em, fontsize=\footnotesize, baselinestretch=1}

\DefineVerbatimEnvironment{Scode}{Verbatim}{xleftmargin=2em}
\fvset{listparameters={\setlength{\topsep}{0pt}}}
%\renewenvironment{Schunk}{\vspace{\topsep}}{\vspace{\topsep}}

\newenvironment{Schunk}{}{}
